{% extends 'template.html' %}

{% block body %}

    <input id="autocomplete" placeholder="Enter your address" type="text" />
    
{% endblock %}

<!-- create javascript block -->

{% block js %}
    <script>
        let autocomplete;
        function initAutocomplete() {
            autocomplete = new google.maps.places.Autocomplete(
                document.getElementById('autocomplete'), {
                    types: ['establishment'],
                    componentRestrictions: {
                        country: ['US']
                    },
                    fields: ['formatted_address', 'geometry', 'name']
                });
            
            autocomplete.addListener('place_changed', onPlaceChanged);
                
        }
        function onPlaceChanged() {
            var place = autocomplete.getPlace();
            if (!place.geometry) {
                document.getElementById('autocomplete').placeholder = 'Enter your address';
            }
            else{
                document.getElementById('details').innerHTML = place.name;
            }
        }
    </script>
    <script async
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCv65Fd_RQnwhQuzKAS30JF6DXASmJOuag&libraries=places&callback=initMap">
    </script>

{% endblock %}